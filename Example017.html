<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
</head>
<body>
	<div>
		<button id="add">添加超链接</button>
		<ul id="ul1">
			<li><a class = "xxx" href="javascript:;">超链接一</a></li>
			<li><a class = "xxx" href="javascript:;">超链接二</a></li>
			<li><a class = "xxx" href="javascript:;">超链接三</a></li>
		</ul>
	</div>
	
	<script>
		var aALL = document.getElementsByClassName("xxx");
		var ul1 = document.getElementById("ul1");

/* 		for (var i = 0; i < aALL.length; i++) {
			aALL[i].onclick = function () {
				alert("我是超链接");
			}
		} */

/* 		以上方法虽然可以成功，但是每一个链接都绑定了事件，太麻烦，影响性能，所以21-25行代码可以用32-40行代码代替
		可以通过只绑定祖先元素ul的方法来控制所有子元素，这就叫事件的委托。
		事件的委托是利用了冒泡，通过委派可以减少事件绑定的次数，提高程序的性能
		如以下代码 */

		ul1.onclick = function (event) {
			if (!event) {
				event = window.event;
			}

			if (event.target.className == "xxx") {
				alert("我是超链接");
			}
		}
		
/* 		以上方法虽然提高了性能，但还有个问题，就是点击<ul>内的任意区域时，都会对事件响应，而不是只有链接响应
		所以我们要规定只有链接响应，方法是，给链接加个独有的类名如class= "link",然后当点击事件触发返回的
		event.target.className==link 的时候，才可以响应，这样就完美解决了

	*/

		var add = document.getElementById("add");
		add.onclick = function () {
			var li = document.createElement("li");
			li.innerHTML = "<a class = 'xxx' href = 'javascript:;'>我是新加的超链接</a>";
			ul1.appendChild(li);
		}
	</script>
</body>
</html>